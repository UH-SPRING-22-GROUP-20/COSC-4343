function cov_7bdn5h4j5(){var path="C:\\Users\\phanl\\Music\\cosc-4353-project-main\\server\\routes\\quoteOrders.js";var hash="eecfc982330cde27d0596395c10da7650fdc277d";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\phanl\\Music\\cosc-4353-project-main\\server\\routes\\quoteOrders.js",statementMap:{"0":{start:{line:1,column:15},end:{line:1,column:42}},"1":{start:{line:2,column:14},end:{line:2,column:30}},"2":{start:{line:3,column:13},end:{line:3,column:28}},"3":{start:{line:5,column:0},end:{line:7,column:3}},"4":{start:{line:6,column:2},end:{line:6,column:27}},"5":{start:{line:10,column:0},end:{line:39,column:11}},"6":{start:{line:11,column:4},end:{line:11,column:26}},"7":{start:{line:12,column:20},end:{line:12,column:36}},"8":{start:{line:13,column:19},end:{line:13,column:34}},"9":{start:{line:14,column:17},end:{line:14,column:30}},"10":{start:{line:15,column:18},end:{line:15,column:32}},"11":{start:{line:16,column:20},end:{line:16,column:36}},"12":{start:{line:17,column:26},end:{line:17,column:48}},"13":{start:{line:18,column:26},end:{line:18,column:48}},"14":{start:{line:19,column:6},end:{line:38,column:11}},"15":{start:{line:20,column:26},end:{line:35,column:12}},"16":{start:{line:24,column:12},end:{line:30,column:13}},"17":{start:{line:25,column:14},end:{line:28,column:17}},"18":{start:{line:29,column:14},end:{line:29,column:78}},"19":{start:{line:32,column:12},end:{line:32,column:39}},"20":{start:{line:37,column:10},end:{line:37,column:27}},"21":{start:{line:41,column:2},end:{line:51,column:5}},"22":{start:{line:42,column:16},end:{line:42,column:55}},"23":{start:{line:43,column:18},end:{line:50,column:6}},"24":{start:{line:44,column:6},end:{line:44,column:25}},"25":{start:{line:44,column:15},end:{line:44,column:25}},"26":{start:{line:45,column:6},end:{line:45,column:27}},"27":{start:{line:46,column:6},end:{line:49,column:9}},"28":{start:{line:54,column:2},end:{line:64,column:5}},"29":{start:{line:55,column:16},end:{line:55,column:53}},"30":{start:{line:56,column:18},end:{line:63,column:6}},"31":{start:{line:57,column:6},end:{line:57,column:25}},"32":{start:{line:57,column:15},end:{line:57,column:25}},"33":{start:{line:58,column:6},end:{line:58,column:27}},"34":{start:{line:59,column:6},end:{line:62,column:9}},"35":{start:{line:67,column:2},end:{line:90,column:4}},"36":{start:{line:69,column:21},end:{line:69,column:40}},"37":{start:{line:70,column:4},end:{line:89,column:7}},"38":{start:{line:72,column:19},end:{line:83,column:8}},"39":{start:{line:74,column:8},end:{line:78,column:9}},"40":{start:{line:76,column:10},end:{line:76,column:36}},"41":{start:{line:77,column:10},end:{line:77,column:56}},"42":{start:{line:79,column:8},end:{line:82,column:8}},"43":{start:{line:86,column:6},end:{line:86,column:23}},"44":{start:{line:87,column:6},end:{line:87,column:43}},"45":{start:{line:92,column:2},end:{line:92,column:24}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:16},end:{line:5,column:17}},loc:{start:{line:5,column:30},end:{line:7,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:10,column:30},end:{line:10,column:31}},loc:{start:{line:10,column:50},end:{line:39,column:9}},line:10},"2":{name:"(anonymous_2)",decl:{start:{line:23,column:10},end:{line:23,column:11}},loc:{start:{line:23,column:27},end:{line:35,column:11}},line:23},"3":{name:"(anonymous_3)",decl:{start:{line:41,column:33},end:{line:41,column:34}},loc:{start:{line:41,column:47},end:{line:51,column:3}},line:41},"4":{name:"(anonymous_4)",decl:{start:{line:43,column:35},end:{line:43,column:36}},loc:{start:{line:43,column:53},end:{line:50,column:5}},line:43},"5":{name:"(anonymous_5)",decl:{start:{line:54,column:38},end:{line:54,column:39}},loc:{start:{line:54,column:52},end:{line:64,column:3}},line:54},"6":{name:"(anonymous_6)",decl:{start:{line:56,column:35},end:{line:56,column:36}},loc:{start:{line:56,column:53},end:{line:63,column:5}},line:56},"7":{name:"(anonymous_7)",decl:{start:{line:67,column:36},end:{line:67,column:37}},loc:{start:{line:68,column:2},end:{line:90,column:3}},line:68},"8":{name:"(anonymous_8)",decl:{start:{line:72,column:105},end:{line:72,column:106}},loc:{start:{line:73,column:6},end:{line:83,column:7}},line:73}},branchMap:{"0":{loc:{start:{line:24,column:12},end:{line:30,column:13}},type:"if",locations:[{start:{line:24,column:12},end:{line:30,column:13}},{start:{line:24,column:12},end:{line:30,column:13}}],line:24},"1":{loc:{start:{line:44,column:6},end:{line:44,column:25}},type:"if",locations:[{start:{line:44,column:6},end:{line:44,column:25}},{start:{line:44,column:6},end:{line:44,column:25}}],line:44},"2":{loc:{start:{line:57,column:6},end:{line:57,column:25}},type:"if",locations:[{start:{line:57,column:6},end:{line:57,column:25}},{start:{line:57,column:6},end:{line:57,column:25}}],line:57},"3":{loc:{start:{line:74,column:8},end:{line:78,column:9}},type:"if",locations:[{start:{line:74,column:8},end:{line:78,column:9}},{start:{line:74,column:8},end:{line:78,column:9}}],line:74}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"eecfc982330cde27d0596395c10da7650fdc277d"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_7bdn5h4j5=function(){return actualCoverage;};}return actualCoverage;}cov_7bdn5h4j5();const router=(cov_7bdn5h4j5().s[0]++,require("express").Router());const mysql=(cov_7bdn5h4j5().s[1]++,require("../db"));const cors=(cov_7bdn5h4j5().s[2]++,require("cors"));cov_7bdn5h4j5().s[3]++;router.get("/",(req,res)=>{cov_7bdn5h4j5().f[0]++;cov_7bdn5h4j5().s[4]++;res.send("Hello world!");});// submit fuel quote form
cov_7bdn5h4j5().s[5]++;router.post("/fuelquoteform",async(req,res)=>{cov_7bdn5h4j5().f[1]++;cov_7bdn5h4j5().s[6]++;console.log(req.body);const gallons=(cov_7bdn5h4j5().s[7]++,req.body.gallons);const street=(cov_7bdn5h4j5().s[8]++,req.body.street);const city=(cov_7bdn5h4j5().s[9]++,req.body.city);const state=(cov_7bdn5h4j5().s[10]++,req.body.state);const zipcode=(cov_7bdn5h4j5().s[11]++,req.body.zipcode);const delivery_date=(cov_7bdn5h4j5().s[12]++,req.body.delivery_date);const suggest_quote=(cov_7bdn5h4j5().s[13]++,req.body.suggest_quote);cov_7bdn5h4j5().s[14]++;try{const customer=(cov_7bdn5h4j5().s[15]++,await mysql.query("INSERT INTO COSC4353.fuelquote (gallons_req, delivery_street, delivery_city, delivery_state, delivery_zipcode, delivery_date, suggest_quote) VALUES ( ?, ?, ?, ?, ?, ?, ?);",[gallons,street,city,state,zipcode,delivery_date,suggest_quote],(err,results)=>{cov_7bdn5h4j5().f[2]++;cov_7bdn5h4j5().s[16]++;if(err){cov_7bdn5h4j5().b[0][0]++;cov_7bdn5h4j5().s[17]++;res.status(400).json({status:"This form has already been placed",data:results});cov_7bdn5h4j5().s[18]++;console.log({message:"This form has already been placed!!"});}else{cov_7bdn5h4j5().b[0][1]++;};// console.log(results);
cov_7bdn5h4j5().s[19]++;return res.send("Success!");}));}catch(err){cov_7bdn5h4j5().s[20]++;console.log(err);}});//get all quote history info
cov_7bdn5h4j5().s[21]++;router.get("/getquotehistory",(req,res)=>{cov_7bdn5h4j5().f[3]++;const sql=(cov_7bdn5h4j5().s[22]++,"SELECT * FROM COSC4353.order_history;");const query=(cov_7bdn5h4j5().s[23]++,mysql.query(sql,(err,results)=>{cov_7bdn5h4j5().f[4]++;cov_7bdn5h4j5().s[24]++;if(err){cov_7bdn5h4j5().b[1][0]++;cov_7bdn5h4j5().s[25]++;throw err;}else{cov_7bdn5h4j5().b[1][1]++;}cov_7bdn5h4j5().s[26]++;console.log(results);cov_7bdn5h4j5().s[27]++;res.status(400).json({status:"success",results});}));});//get pricing module info
cov_7bdn5h4j5().s[28]++;router.get("/api/v1/pricingmodule",(req,res)=>{cov_7bdn5h4j5().f[5]++;const sql=(cov_7bdn5h4j5().s[29]++,"SELECT * FROM COSC4353.state_price;");const query=(cov_7bdn5h4j5().s[30]++,mysql.query(sql,(err,results)=>{cov_7bdn5h4j5().f[6]++;cov_7bdn5h4j5().s[31]++;if(err){cov_7bdn5h4j5().b[2][0]++;cov_7bdn5h4j5().s[32]++;throw err;}else{cov_7bdn5h4j5().b[2][1]++;}cov_7bdn5h4j5().s[33]++;console.log(results);cov_7bdn5h4j5().s[34]++;res.status(400).json({status:"Success",results});}));});///GET HISTORY
cov_7bdn5h4j5().s[35]++;router.get("/getorder/:username",async(req,res)=>{cov_7bdn5h4j5().f[7]++;const username=(cov_7bdn5h4j5().s[36]++,req.params.username);cov_7bdn5h4j5().s[37]++;try{const user=(cov_7bdn5h4j5().s[38]++,await mysql.query("SELECT * FROM COSC4353.fuelquote where username = ?; ",[username],(err,results)=>{cov_7bdn5h4j5().f[8]++;cov_7bdn5h4j5().s[39]++;if(err){cov_7bdn5h4j5().b[3][0]++;cov_7bdn5h4j5().s[40]++;console.error(err.message);cov_7bdn5h4j5().s[41]++;return res.status(400).json("please complete");}else{cov_7bdn5h4j5().b[3][1]++;};cov_7bdn5h4j5().s[42]++;res.status(200).json({status:"succcccess",results:results});}));}catch(err){cov_7bdn5h4j5().s[43]++;console.log(err);cov_7bdn5h4j5().s[44]++;res.status(500).send("Server Error");}});cov_7bdn5h4j5().s[45]++;module.exports=router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInF1b3RlT3JkZXJzLmpzIl0sIm5hbWVzIjpbInJvdXRlciIsInJlcXVpcmUiLCJSb3V0ZXIiLCJteXNxbCIsImNvcnMiLCJnZXQiLCJyZXEiLCJyZXMiLCJzZW5kIiwicG9zdCIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwiZ2FsbG9ucyIsInN0cmVldCIsImNpdHkiLCJzdGF0ZSIsInppcGNvZGUiLCJkZWxpdmVyeV9kYXRlIiwic3VnZ2VzdF9xdW90ZSIsImN1c3RvbWVyIiwicXVlcnkiLCJlcnIiLCJyZXN1bHRzIiwic3RhdHVzIiwianNvbiIsImRhdGEiLCJtZXNzYWdlIiwic3FsIiwidXNlcm5hbWUiLCJwYXJhbXMiLCJ1c2VyIiwiZXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoia2xMQWVZO3lGQWZaLEtBQU1BLENBQUFBLE1BQU0seUJBQUdDLE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJDLE1BQW5CLEVBQUgsQ0FBWixDQUNBLEtBQU1DLENBQUFBLEtBQUsseUJBQUdGLE9BQU8sQ0FBQyxPQUFELENBQVYsQ0FBWCxDQUNBLEtBQU1HLENBQUFBLElBQUkseUJBQUdILE9BQU8sQ0FBQyxNQUFELENBQVYsQ0FBVixDLHVCQUVBRCxNQUFNLENBQUNLLEdBQVAsQ0FBVyxHQUFYLENBQWdCLENBQUNDLEdBQUQsQ0FBTUMsR0FBTixHQUFjLCtDQUM1QkEsR0FBRyxDQUFDQyxJQUFKLENBQVMsY0FBVCxFQUNELENBRkQsRUFJQTt1QkFDQVIsTUFBTSxDQUFDUyxJQUFQLENBQVksZ0JBQVosQ0FBOEIsTUFBT0gsR0FBUCxDQUFZQyxHQUFaLEdBQW9CLCtDQUM5Q0csT0FBTyxDQUFDQyxHQUFSLENBQVlMLEdBQUcsQ0FBQ00sSUFBaEIsRUFDQSxLQUFNQyxDQUFBQSxPQUFPLHlCQUFHUCxHQUFHLENBQUNNLElBQUosQ0FBU0MsT0FBWixDQUFiLENBQ0EsS0FBTUMsQ0FBQUEsTUFBTSx5QkFBR1IsR0FBRyxDQUFDTSxJQUFKLENBQVNFLE1B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cUJBQVgsQ0FBa0MsTUFBT0MsR0FBUCxDQUFZQyxHQUFaLEdBQ2xDLHdCQUNFLEtBQU1zQixDQUFBQSxRQUFRLDBCQUFHdkIsR0FBRyxDQUFDd0IsTUFBSixDQUFXRCxRQUFkLENBQWQsQ0FERix3QkFFRSxHQUNBLENBQ0UsS0FBTUUsQ0FBQUEsSUFBSSwwQkFBRyxLQUFNNUIsQ0FBQUEsS0FBSyxDQUFDa0IsS0FBTixDQUFZLHVEQUFaLENBQW9FLENBQUNRLFFBQUQsQ0FBcEUsQ0FBZ0YsQ0FBQ1AsR0FBRCxDQUFNQyxPQUFOLEdBQ25HLGdEQUNFLEdBQUdELEdBQUgsQ0FDQSxtREFDRVosT0FBTyxDQUFDc0IsS0FBUixDQUFjVixHQUFHLENBQUNLLE9BQWxCLEVBREYsd0JBRUUsTUFBT3BCLENBQUFBLEdBQUcsQ0FBQ2lCLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixpQkFBckIsQ0FBUCxDQUNELENBSkQsZ0NBSUMsQ0FMSCx3QkFNRWxCLEdBQUcsQ0FBQ2lCLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixDQUNuQkQsTUFBTSxDQUFFLFlBRFcsQ0FFbkJELE9BQU8sQ0FBRUEsT0FGVSxDQUFyQixFQUlELENBWGtCLENBQVQsQ0FBVixDQVlELENBQUMsTUFBT0QsR0FBUCxDQUNGLHlCQUNFWixPQUFPLENBQUNDLEdBQVIsQ0FBWVcsR0FBWixFQURGLHdCQUVFZixHQUFHLENBQUNpQixNQUFKLENBQVcsR0FBWCxFQUFnQmhCLElBQWhCLENBQXFCLGNBQXJCLEVBRUMsQ0FDSixDQXZCRCxFLHdCQXlCQXlCLE1BQU0sQ0FBQ0MsT0FBUCxDQUFlbEMsTUFBZiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJvdXRlciA9IHJlcXVpcmUoXCJleHByZXNzXCIpLlJvdXRlcigpO1xuY29uc3QgbXlzcWwgPSByZXF1aXJlKFwiLi4vZGJcIik7XG5jb25zdCBjb3JzID0gcmVxdWlyZShcImNvcnNcIik7XG5cbnJvdXRlci5nZXQoXCIvXCIsIChyZXEsIHJlcykgPT4ge1xuICByZXMuc2VuZChcIkhlbGxvIHdvcmxkIVwiKTtcbn0pO1xuXG4vLyBzdWJtaXQgZnVlbCBxdW90ZSBmb3JtXG5yb3V0ZXIucG9zdChcIi9mdWVscXVvdGVmb3JtXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcbiAgICBjb25zdCBnYWxsb25zID0gcmVxLmJvZHkuZ2FsbG9ucztcbiAgICBjb25zdCBzdHJlZXQgPSByZXEuYm9keS5zdHJlZXQ7XG4gICAgY29uc3QgY2l0eSA9IHJlcS5ib2R5LmNpdHk7XG4gICAgY29uc3Qgc3RhdGUgPSByZXEuYm9keS5zdGF0ZTtcbiAgICBjb25zdCB6aXBjb2RlID0gcmVxLmJvZHkuemlwY29kZTtcbiAgICBjb25zdCBkZWxpdmVyeV9kYXRlID0gcmVxLmJvZHkuZGVsaXZlcnlfZGF0ZTtcbiAgICBjb25zdCBzdWdnZXN0X3F1b3RlID0gcmVxLmJvZHkuc3VnZ2VzdF9xdW90ZTtcbiAgICAgIHRyeXtcbiAgICAgICAgY29uc3QgY3VzdG9tZXIgPSAgYXdhaXQgbXlzcWwucXVlcnkoXG4gICAgICAgICAgXCJJTlNFUlQgSU5UTyBDT1NDNDM1My5mdWVscXVvdGUgKGdhbGxvbnNfcmVxLCBkZWxpdmVyeV9zdHJlZXQsIGRlbGl2ZXJ5X2NpdHksIGRlbGl2ZXJ5X3N0YXRlLCBkZWxpdmVyeV96aXBjb2RlLCBkZWxpdmVyeV9kYXRlLCBzdWdnZXN0X3F1b3RlKSBWQUxVRVMgKCA/LCA/LCA/LCA/LCA/LCA/LCA/KTtcIixcbiAgICAgICAgICBbZ2FsbG9ucywgc3RyZWV0LGNpdHksc3RhdGUsemlwY29kZSxkZWxpdmVyeV9kYXRlLCBzdWdnZXN0X3F1b3RlXSxcbiAgICAgICAgICAoZXJyLCByZXN1bHRzKSA9PntcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICAgICAgICAgIHN0YXR1czogXCJUaGlzIGZvcm0gaGFzIGFscmVhZHkgYmVlbiBwbGFjZWRcIixcbiAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHRzLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coeyBtZXNzYWdlOiBcIlRoaXMgZm9ybSBoYXMgYWxyZWFkeSBiZWVuIHBsYWNlZCEhXCIgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0cyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnNlbmQoXCJTdWNjZXNzIVwiKVxuICBcbiAgICAgICAgICAgIFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gIC8vZ2V0IGFsbCBxdW90ZSBoaXN0b3J5IGluZm9cbiAgcm91dGVyLmdldChcIi9nZXRxdW90ZWhpc3RvcnlcIiwgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qgc3FsID0gXCJTRUxFQ1QgKiBGUk9NIENPU0M0MzUzLm9yZGVyX2hpc3Rvcnk7XCI7XG4gICAgY29uc3QgcXVlcnkgPSBteXNxbC5xdWVyeShzcWwsIChlcnIsIHJlc3VsdHMpID0+IHtcbiAgICAgIGlmIChlcnIpIHRocm93IGVycjtcbiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdHMpO1xuICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICByZXN1bHRzLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vZ2V0IHByaWNpbmcgbW9kdWxlIGluZm9cbiAgcm91dGVyLmdldChcIi9hcGkvdjEvcHJpY2luZ21vZHVsZVwiLCAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBzcWwgPSBcIlNFTEVDVCAqIEZST00gQ09TQzQzNTMuc3RhdGVfcHJpY2U7XCI7XG4gICAgY29uc3QgcXVlcnkgPSBteXNxbC5xdWVyeShzcWwsIChlcnIsIHJlc3VsdHMpID0+IHtcbiAgICAgIGlmIChlcnIpIHRocm93IGVycjtcbiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdHMpO1xuICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6IFwiU3VjY2Vzc1wiLFxuICAgICAgICByZXN1bHRzLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4vLy9HRVQgSElTVE9SWVxuICByb3V0ZXIuZ2V0KFwiL2dldG9yZGVyLzp1c2VybmFtZVwiLCBhc3luYyAocmVxLCByZXMpID0+XG4gIHtcbiAgICBjb25zdCB1c2VybmFtZSA9IHJlcS5wYXJhbXMudXNlcm5hbWVcbiAgICB0cnkgXG4gICAge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG15c3FsLnF1ZXJ5KFwiU0VMRUNUICogRlJPTSBDT1NDNDM1My5mdWVscXVvdGUgd2hlcmUgdXNlcm5hbWUgPSA/OyBcIixbdXNlcm5hbWVdLCAoZXJyLCByZXN1bHRzKT0+XG4gICAgICB7XG4gICAgICAgIGlmKGVycilcbiAgICAgICAge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyLm1lc3NhZ2UpXG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFwicGxlYXNlIGNvbXBsZXRlXCIpXG4gICAgICAgIH07XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBzdGF0dXM6IFwic3VjY2NjY2Vzc1wiLFxuICAgICAgICAgIHJlc3VsdHM6IHJlc3VsdHNcbiAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIFxuICAgIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChcIlNlcnZlciBFcnJvclwiKTtcbiAgXG4gICAgICB9XG4gIH0pXG5cbiAgbW9kdWxlLmV4cG9ydHM9cm91dGVyO1xuIl19