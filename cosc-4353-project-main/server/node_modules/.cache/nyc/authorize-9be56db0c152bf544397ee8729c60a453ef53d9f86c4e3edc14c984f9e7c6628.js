function cov_1ryktm1pcm(){var path="C:\\Users\\phanl\\Music\\cosc-4353-project-main\\server\\middleware\\authorize.js";var hash="40f0f9631f2ab3ad10b1d6e1dbbdcda4b6de365d";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\phanl\\Music\\cosc-4353-project-main\\server\\middleware\\authorize.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:35}},"1":{start:{line:3,column:0},end:{line:3,column:26}},"2":{start:{line:5,column:0},end:{line:21,column:1}},"3":{start:{line:6,column:4},end:{line:20,column:5}},"4":{start:{line:7,column:25},end:{line:7,column:44}},"5":{start:{line:9,column:8},end:{line:11,column:9}},"6":{start:{line:10,column:12},end:{line:10,column:57}},"7":{start:{line:13,column:24},end:{line:13,column:68}},"8":{start:{line:14,column:8},end:{line:14,column:32}},"9":{start:{line:15,column:8},end:{line:15,column:15}},"10":{start:{line:18,column:8},end:{line:18,column:36}},"11":{start:{line:19,column:8},end:{line:19,column:53}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:17},end:{line:5,column:18}},loc:{start:{line:5,column:40},end:{line:21,column:1}},line:5}},branchMap:{"0":{loc:{start:{line:9,column:8},end:{line:11,column:9}},type:"if",locations:[{start:{line:9,column:8},end:{line:11,column:9}},{start:{line:9,column:8},end:{line:11,column:9}}],line:9}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},f:{"0":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"40f0f9631f2ab3ad10b1d6e1dbbdcda4b6de365d"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1ryktm1pcm=function(){return actualCoverage;};}return actualCoverage;}cov_1ryktm1pcm();const jwt=(cov_1ryktm1pcm().s[0]++,require("jsonwebtoken"));cov_1ryktm1pcm().s[1]++;require("dotenv").config();cov_1ryktm1pcm().s[2]++;module.exports=async(req,res,next)=>{cov_1ryktm1pcm().f[0]++;cov_1ryktm1pcm().s[3]++;try{const jwtToken=(cov_1ryktm1pcm().s[4]++,req.header("token"));cov_1ryktm1pcm().s[5]++;if(!jwtToken){cov_1ryktm1pcm().b[0][0]++;cov_1ryktm1pcm().s[6]++;return res.status(403).json("Not Authorized");}else{cov_1ryktm1pcm().b[0][1]++;}const payload=(cov_1ryktm1pcm().s[7]++,jwt.verify(jwtToken,process.env.SECRET_KEY));cov_1ryktm1pcm().s[8]++;req.user=payload.user;cov_1ryktm1pcm().s[9]++;next();}catch(error){cov_1ryktm1pcm().s[10]++;console.error(error.message);cov_1ryktm1pcm().s[11]++;return res.status(403).json("Not Authorized");}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhvcml6ZS5qcyJdLCJuYW1lcyI6WyJqd3QiLCJyZXF1aXJlIiwiY29uZmlnIiwibW9kdWxlIiwiZXhwb3J0cyIsInJlcSIsInJlcyIsIm5leHQiLCJqd3RUb2tlbiIsImhlYWRlciIsInN0YXR1cyIsImpzb24iLCJwYXlsb2FkIiwidmVyaWZ5IiwicHJvY2VzcyIsImVudiIsIlNFQ1JFVF9LRVkiLCJ1c2VyIiwiZXJyb3IiLCJjb25zb2xlIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6IjZyREFlWTsyRkFmWixLQUFNQSxDQUFBQSxHQUFHLDBCQUFHQyxPQUFPLENBQUMsY0FBRCxDQUFWLENBQVQsQyx3QkFFQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEIsRyx3QkFFQUMsTUFBTSxDQUFDQyxPQUFQLENBQWlCLE1BQU1DLEdBQU4sQ0FBVUMsR0FBVixDQUFjQyxJQUFkLEdBQXVCLGlEQUNwQyxHQUFJLENBQ0EsS0FBTUMsQ0FBQUEsUUFBUSwwQkFBR0gsR0FBRyxDQUFDSSxNQUFKLENBQVcsT0FBWCxDQUFILENBQWQsQ0FEQSx3QkFHQSxHQUFHLENBQUNELFFBQUosQ0FBYSxvREFDVCxNQUFPRixDQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixnQkFBckIsQ0FBUCxDQUNILENBRkQsaUNBSUEsS0FBTUMsQ0FBQUEsT0FBTywwQkFBR1osR0FBRyxDQUFDYSxNQUFKLENBQVdMLFFBQVgsQ0FBcUJNLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxVQUFqQyxDQUFILENBQWIsQ0FQQSx3QkFRQVgsR0FBRyxDQUFDWSxJQUFKLENBQVdMLE9BQU8sQ0FBQ0ssSUFBbkIsQ0FSQSx3QkFTQVYsSUFBSSxHQUVQLE9BQU1XLEtBQU4sQ0FBWSwwQkFDVEMsT0FBTyxDQUFDRCxLQUFSLENBQWNBLEtBQUssQ0FBQ0UsT0FBcEIsRUFEUyx5QkFFVCxNQUFPZCxDQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixnQkFBckIsQ0FBUCxDQUNILENBQ0osQ0FoQkQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuXG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpXG5cbm1vZHVsZS5leHBvcnRzID0gYXN5bmMocmVxLHJlcyxuZXh0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgand0VG9rZW4gPSByZXEuaGVhZGVyKFwidG9rZW5cIik7XG5cbiAgICAgICAgaWYoIWp3dFRva2VuKXtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbihcIk5vdCBBdXRob3JpemVkXCIpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXlsb2FkID0gand0LnZlcmlmeShqd3RUb2tlbiwgcHJvY2Vzcy5lbnYuU0VDUkVUX0tFWSk7XG4gICAgICAgIHJlcS51c2VyID0gcGF5bG9hZC51c2VyO1xuICAgICAgICBuZXh0KCk7XG5cbiAgICB9Y2F0Y2goZXJyb3Ipe1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLm1lc3NhZ2UpXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbihcIk5vdCBBdXRob3JpemVkXCIpXG4gICAgfVxufSJdfQ==